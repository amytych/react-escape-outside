{"version":3,"file":"main.860298febc4538522f25.bundle.js","sources":["webpack:///./index.js"],"sourcesContent":["import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\n\nexport default class EscapeOutside extends Component {\n  static propTypes = {\n    children: PropTypes.element.isRequired,\n    onEscapeOutside: PropTypes.func.isRequired,\n    mouseEvent: PropTypes.string,\n    touchEvent: PropTypes.string,\n  }\n  static defaultProps = {\n    mouseEvent: \"click\",\n    touchEvent: \"touchend\",\n  }\n\n  constructor() {\n    super()\n    this.onEscape = this.onEscape.bind(this)\n    this.onClick = this.onClick.bind(this)\n    this.getRef = this.getRef.bind(this)\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onEscape)\n    document.addEventListener(this.props.mouseEvent, this.onClick, true)\n    document.addEventListener(this.props.touchEvent, this.onClick, true)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onEscape)\n    document.removeEventListener(this.props.mouseEvent, this.onClick, true)\n    document.removeEventListener(this.props.touchEvent, this.onClick, true)\n  }\n\n  onEscape(e) {\n    if (e.keyCode === 27) this.props.onEscapeOutside()\n  }\n\n  onClick(e) {\n    if (this.ref && !this.ref.contains(e.target)) this.props.onEscapeOutside(e)\n  }\n\n  getRef(ref) {\n    this.ref = ref\n  }\n\n  render() {\n    const props = Object.assign({}, this.props)\n    const { children } = props\n\n    delete props.onEscapeOutside\n    delete props.children\n    delete props.mouseEvent\n    delete props.touchEvent\n\n    return (\n      <div ref={this.getRef} {...props}>\n        {children}\n      </div>\n    )\n  }\n}\n"],"mappings":"AAGA","sourceRoot":""}